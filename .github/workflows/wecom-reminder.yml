name: WeCom Daily Reminder

# å®šæ—¶è§¦å‘ï¼šæ¯å‘¨ä¸€åˆ°å‘¨äº”çš„19:00 (CST)
on:
  schedule:
    - cron: '30 0 * * 1-5' # 08:30 CST
    - cron: '15 10 * * 1-5' # 18:15 CST
    - cron: '0 15 * * 1-5' # 23:00 CST
  workflow_dispatch: # æ”¯æŒæ‰‹åŠ¨è§¦å‘

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Send WeCom Friendly Reminder
        run: |
          curl -X POST "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=${{ secrets.WECOM_WEBHOOK_KEY }}" \
          -H "Content-Type: application/json" \
          -d '{
                "msgtype": "text",
                "text": {
                    "content": "å¤§å®¶å¥½~ ğŸ˜Š\nğŸ“Œ ä»Šå¤©çš„æ—¥æŠ¥è®°å¾—å¡«å†™å“¦ï¼Œè®©å¤§å®¶éƒ½èƒ½äº†è§£å½¼æ­¤çš„å·¥ä½œè¿›å±•ï¼\næ„Ÿè°¢å¤§å®¶çš„é…åˆï½ğŸ’¡\n\nğŸ“„ æ—¥æŠ¥å…¥å£ï¼š\nhttps://doc.weixin.qq.com/sheet/e3_AZsAhgZoAPECNEvGUDWGKQrigyDSR?scode=ANEAwAeTAAcDQu2g7HAZsAhgZoAPE&journal_source=chat&tab=BB08J2",
                    "mentioned_list": ["@all"]
                }
              }'
